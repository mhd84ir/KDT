@model VM_User;
<style>

#drop-area
{
    width: 500px;
    height: 300px;
    padding: 30px;
    background: #fff;
    text-align: center;
    border-radius: 20px;

}
#img-view
{
    width: 100%;
    height: 100%;
    border-radius: 20px;
    border: 2px dashed #bbb5ff;
    background: #f7f8ff;
    background-position: center;
    background-size: cover;

}

#img-view img
{
    width: 100px;
    margin-top: 25px;
}

#img-view span
{
    display: block;
    font-size: 12px;
    color: #777;
    margin-top: 15px;
}

.hero{
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>
<div class="container card p-3 alert alert-primary">

  <h4 class="text-center alert alert-info text-black">فرم ویرایش اطلاعات پرسنل</h4>
  <form action="/User/Updatee" method="POST" class="row" enctype="multipart/form-data">
    <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-12">
      <label for="name">نام و نام خانوادگی:</label>
      <input type="text" class="form-control" id="name" name="name" asp-for="Name" required>
    </div>
    <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-12">
      <label for="email">ایمیل:</label>
      <input type="email" class="form-control" id="email" name="email" asp-for="Email" required>
    </div>
    <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-12">
      <label for="phone">شماره تلفن:</label>
      <input type="tel" class="form-control" id="phone" name="phone" asp-for="Phone" required>
    </div>
    <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-12">
      <label for="phone">رمز عبور:</label>
      <input type="text" class="form-control" asp-for="PassWord" required>
    </div>

    <input type="text" hidden asp-for="Id">
    <input type="text" hidden asp-for="UserName">
    <input type="text" hidden asp-for="ImageName">
<br>
    <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-12 custom-control custom-switch">
      <br>
      <label for="position">دسترسی:</label>
      <div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="customSwitch1" asp-for="NaghdiStatus">
        <label class="custom-control-label" for="customSwitch1">نقدی</label>
        <br>
        <input type="checkbox" class="custom-control-input" id="customSwitch1" asp-for="SaderatStatus">
        <label class="custom-control-label" for="customSwitch1">صادرات</label>
        <br>
        <input type="checkbox" class="custom-control-input" id="customSwitch1" asp-for="LcStatus">
        <label class="custom-control-label" for="customSwitch1">LC</label>
        <br>
        <input type="checkbox" class="custom-control-input" id="customSwitch1" asp-for="AdminStatus">
        <label class="custom-control-label" for="customSwitch1">Admin</label>
        <br>



      </div>
    </div>
            <div class="card-body">
                <div class=" text-center">

                    <div class="hero">

                        @if(ViewBag.ImageName!=null){
                        <label for="input-file" id="drop-area">
                            <input class="upload" type="file"  accept="image/*"    id="input-file" asp-for="img" hidden multiple>
                            <div id="img-view"  >
                                
                            <img src="~/assets/FileUpload/@ViewBag.ImageName" style="width: 400px; height: 200px;">
                            </div>
                        </label>
                        }

                        else{
                        <label for="input-file" id="drop-area">
                            <input class="upload" type="file"  accept="image/*"    id="input-file" asp-for="img" hidden multiple>
                            <div id="img-view">
                            <img src="../../assets/img/avatars/508-icon.png" >
                            <p style="margin: 10px;">برای بارگذاری عکس کلیک کنید یا عکس را اینجا بکشید</p>
                            <span style="margin-bottom: 15px;">بارگذاری پیوست</span>
                            </div>
                        </label>
                        }


                    </div>

    @* button *@
    <div class="col-12 text-center">
      <button type="submit" class="btn btn-success">ثبت اطلاعات</button>
    </div>

  </form>


</div>

<script>
  // تغییر آدرس به یک فیلد اینپوت
  document.querySelector('#address').outerHTML = '<input type="text" class="form-control" id="address" name="address" required>';

  // نمایش پیش فرض عکس در هنگام بارگذاری
  const inputImage = document.querySelector('#image');
  const previewImage = document.querySelector('#preview-image');

  inputImage.addEventListener('change', function (event) {
    previewImage.src = URL.createObjectURL(event.target.files[0]);
  });
</script>
<script>


const dropArea = document.getElementById("drop-area");
const inputFile = document.getElementById("input-file");
const imageView = document.getElementById("img-view");

inputFile.addEventListener("change", uploadImage);
function uploadImage()
{

    
    let imgLink = URL.createObjectURL(inputFile.files[0]);
    imageView.style.backgroundImage = `url(${imgLink})`;
    imageView.textContent="";
    imageView.style.border=0;



}

dropArea.addEventListener("dragover", function(e)
{
    e.preventDefault();
});
dropArea.addEventListener("drop", function(e)
{
    e.preventDefault();
    inputFile.files= e.dataTransfer.files;
    uploadImage();
});


</script>
